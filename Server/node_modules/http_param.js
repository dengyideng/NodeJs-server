var _res, _req,
    url = require('url'),
    querystring = require('querystring');

//初始化res和reqcanliang
exports.init = function(req, res){
	_res = res;
	_req = req;
};

//获取GET参数方法
exports.GET = function(key){
	var paramStr = url.parse(_req.url).query;
	var paramObj = querystring.parse(paramStr);

	return paramObj[key] ? paramObj[key] : '';
};

//获取POST方法
exports.POST = function(key, callback){
	var postData = '';
	_req.addlistener('data', function(postDataChunk){
		postData += postDataChunk;
	});

	_req.addlistener('end', function(){
		var paramObj = querystring.parse(postData);
		var value = paramObj[key] ? paramObj[key] : '';

		callback(value);
	});
};